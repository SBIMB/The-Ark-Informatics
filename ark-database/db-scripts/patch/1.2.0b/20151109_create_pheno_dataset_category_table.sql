USE `pheno`;
--
-- Table structure for table `pheno_dataset_category`
--
DROP TABLE IF EXISTS `pheno_dataset_category`;
CREATE TABLE `pheno`.`pheno_dataset_category` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(255) NOT NULL,
  `DESCRIPTION` TEXT NULL,
  `STUDY_ID` INT(11) NOT NULL,
  `ARK_FUNCTION_ID` INT(11) NOT NULL,
  `PARENT_ID` INT(11) NULL,
  `ORDER_NUMBER` INT(11) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `uk_name` (`NAME` ASC, `STUDY_ID` ASC, `ARK_FUNCTION_ID` ASC),
  INDEX `FK_STUDY_ID` (`STUDY_ID` ASC),
  INDEX `FK_CUSTOMFIELDCATEGORY_ARK_FUNCTION_ID_idx` (`ARK_FUNCTION_ID` ASC),
  CONSTRAINT `FK_STUDY_ID` FOREIGN KEY (`STUDY_ID`) REFERENCES `study`.`study` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_CUSTOMFIELDCATEGORY_ARK_FUNCTION_ID` FOREIGN KEY (`ARK_FUNCTION_ID`) REFERENCES `study`.`ark_function` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_CUSTOMFIELDCATEGORY_PARENT_ID` FOREIGN KEY (`PARENT_ID`) REFERENCES `pheno_dataset_category` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION);

